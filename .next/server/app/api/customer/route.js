"use strict";(()=>{var e={};e.id=191,e.ids=[191],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6415:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var n={};r.r(n),r.d(n,{GET:()=>m,POST:()=>c});var o=r(6360),s=r(445),a=r(475),i=r(4105),u=r(705),p=r.n(u);async function m(){await (0,i.Z)();let e=await p().find();return Response.json(e)}async function c(e){await (0,i.Z)();let t=await e.json(),r=new(p())(t);return await r.save(),Response.json(r,{status:201})}let l=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/customer/route",pathname:"/api/customer",filename:"route",bundlePath:"app/api/customer/route"},resolvedPagePath:"C:\\Users\\thuye\\source\\repos\\final\\next-mongo\\app\\api\\customer\\route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:h}=l,f="/api/customer/route";function v(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},4105:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(1185),o=r.n(n);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async function(){if(a.conn)return a.conn;a.promise||(a.promise=o().connect(s,{bufferCommands:!1}).then(e=>{console.log("DB connected")}));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},705:(e,t,r)=>{let n=r(1185),o=new n.Schema({name:{type:String,required:!0,trim:!0},dateOfBirth:{type:Date,required:!0},memberNumber:{type:Number,required:!0,unique:!0},interests:[{type:String,trim:!0}]},{timestamps:!0});e.exports=n.models.Customer||n.model("Customer",o)},6360:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[603],()=>r(6415));module.exports=n})();