"use strict";(()=>{var e={};e.id=111,e.ids=[111],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},770:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>f,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var n={};r.r(n),r.d(n,{DELETE:()=>m,GET:()=>d,PUT:()=>c});var o=r(6360),s=r(445),i=r(475),a=r(4105),u=r(705),p=r.n(u);async function d(e,{params:t}){await (0,a.Z)();let r=await p().findById(t.id);return r?Response.json(r):Response.json({error:"Not found"},{status:404})}async function c(e,{params:t}){await (0,a.Z)();let r=await e.json(),n=await p().findByIdAndUpdate(t.id,r,{new:!0});return n?Response.json(n):Response.json({error:"Not found"},{status:404})}async function m(e,{params:t}){return(await (0,a.Z)(),await p().findByIdAndDelete(t.id))?Response.json({success:!0}):Response.json({error:"Not found"},{status:404})}let l=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/customer/[id]/route",pathname:"/api/customer/[id]",filename:"route",bundlePath:"app/api/customer/[id]/route"},resolvedPagePath:"C:\\Users\\thuye\\source\\repos\\final\\next-mongo\\app\\api\\customer\\[id]\\route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:h}=l,y="/api/customer/[id]/route";function v(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},4105:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(1185),o=r.n(n);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env");let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let a=async function(){if(i.conn)return i.conn;i.promise||(i.promise=o().connect(s,{bufferCommands:!1}).then(e=>{console.log("DB connected")}));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}},705:(e,t,r)=>{let n=r(1185),o=new n.Schema({name:{type:String,required:!0,trim:!0},dateOfBirth:{type:Date,required:!0},memberNumber:{type:Number,required:!0,unique:!0},interests:[{type:String,trim:!0}]},{timestamps:!0});e.exports=n.models.Customer||n.model("Customer",o)},6360:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[603],()=>r(770));module.exports=n})();