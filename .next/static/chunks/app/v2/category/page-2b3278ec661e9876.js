(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{6533:function(e,t,n){Promise.resolve().then(n.bind(n,5262))},5262:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7949),o=n(6265),l=n(5938),i=n(8108),a=n(2521);let s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function c(e){let{onSubmit:t,category:n,editMode:o}=e,{register:c,handleSubmit:d,reset:u}=(0,l.cI)({defaultValues:{name:(null==n?void 0:n.name)||"",order:(null==n?void 0:n.order)||""}});return(0,r.jsxs)(i.default,{sx:s,children:[(0,r.jsx)(a.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:o?"Edit Category":"Add Category"}),(0,r.jsx)(a.Z,{id:"modal-modal-description",sx:{mt:2},children:(0,r.jsx)("form",{onSubmit:d(t),children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-fit m-4",children:[(0,r.jsx)("div",{children:"Category:"}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{name:"name",type:"text",...c("name",{required:!0}),className:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})}),(0,r.jsx)("div",{children:"Order:"}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{name:"order",type:"number",...c("order",{required:!0}),className:"border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"})}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("input",{type:"submit",value:o?"Update":"Add",className:"bg-blue-800 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full mr-2"}),o&&(0,r.jsx)("button",{type:"button",onClick:()=>u(),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-4 rounded-full",children:"Cancel"})]})]})})})]})}var d=n(7783);n(4571);var u=n(6307),x=n(8774),h=n(4207),p=n(3994),m=n(5071);function f(){let[e,t]=(0,o.useState)([]),[n,l]=(0,o.useState)(null),[i,a]=(0,o.useState)(!1),s="/fin-customer/api";async function f(){let e=await fetch("".concat(s,"/category"));t((await e.json()).map(e=>(e.id=e._id,e)))}console.log("".concat(s,"/category"));let[g,b]=(0,o.useState)(!1),j=()=>{b(!1),a(!1),l(null)};async function y(e){if(!confirm("Are you sure to delete [".concat(e.name,"]")))return;let t=e._id;await fetch("".concat(s,"/category/").concat(t),{method:"DELETE"}),f()}return(0,o.useEffect)(()=>{f()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)("main",{children:(0,r.jsxs)("div",{className:"mx-4",children:[(0,r.jsxs)("span",{children:["Category (",e.length,")"]}),(0,r.jsx)(p.Z,{"aria-label":"new-category",color:"secondary",onClick:()=>{a(!1),l(null),b(!0)},children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(h.Z,{open:g,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsx)(c,{onSubmit:function(e){if(i&&n){fetch("".concat(s,"/category/").concat(n._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(()=>{f(),j()});return}fetch("".concat(s,"/category"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(()=>{f(),j()})},category:n,editMode:i})}),(0,r.jsx)(u._,{slots:{toolbar:x.n},rows:e,columns:[{field:"name",headerName:"Category Name",width:150},{field:"order",headerName:"Order",width:150},{field:"actions",headerName:"Actions",width:150,renderCell:e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>{l(e.row),a(!0),b(!0)},children:"\uD83D\uDCDD"}),(0,r.jsx)("button",{onClick:()=>y(e.row),children:"\uD83D\uDDD1️"})]})}]})]})})]})}},7783:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7949),o=n(6265),l=n(3089),i=n(8108),a=n(2861),s=n(3994),c=n(2521),d=n(9348),u=n(9606),x=n(1580),h=n(4969),p=n(1492),m=n(3700),f=n(3904),g=n(5502),b=n(6126);let j=["Profile","Account","Dashboard","Logout"];function y(){let e=(0,b.useRouter)(),[t,n]=o.useState(null),[y,v]=o.useState(null),C=()=>{v(null)};return(0,r.jsx)(l.Z,{position:"static",children:(0,r.jsx)(x.Z,{maxWidth:"xl",children:(0,r.jsxs)(a.Z,{disableGutters:!0,children:[(0,r.jsx)(g.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,r.jsx)(c.Z,{variant:"h6",noWrap:!0,component:"a",href:"#app-bar-with-responsive-menu",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"VMS"}),(0,r.jsxs)(i.default,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,r.jsx)(s.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{n(e.currentTarget)},color:"inherit",children:(0,r.jsx)(u.Z,{})}),(0,r.jsxs)(d.Z,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!t,onClose:()=>{n(null)},sx:{display:{xs:"block",md:"none"}},children:[(0,r.jsx)(f.Z,{onClick:()=>e.push("/v2/product"),children:(0,r.jsx)(c.Z,{sx:{textAlign:"center"},children:"Products"})},1),(0,r.jsx)(f.Z,{onClick:()=>e.push("/v2/category"),children:(0,r.jsx)(c.Z,{sx:{textAlign:"center"},children:"Categories"})},2)]})]}),(0,r.jsx)(g.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,r.jsx)(c.Z,{variant:"h5",noWrap:!0,component:"a",href:"#app-bar-with-responsive-menu",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),(0,r.jsxs)(i.default,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[(0,r.jsx)(p.default,{onClick:()=>e.push("/v2/product"),sx:{my:2,color:"white",display:"block"},children:"Products"},1),(0,r.jsx)(p.default,{onClick:()=>e.push("/v2/category"),sx:{my:2,color:"white",display:"block"},children:"Categories"},2),(0,r.jsx)(p.default,{onClick:()=>e.push("/v2/customer"),sx:{my:2,color:"white",display:"block"},children:"Customers"},2)]}),(0,r.jsxs)(i.default,{sx:{flexGrow:0},children:[(0,r.jsx)(m.Z,{title:"Open settings",children:(0,r.jsx)(s.Z,{onClick:e=>{v(e.currentTarget)},sx:{p:0},children:(0,r.jsx)(h.Z,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})}),(0,r.jsx)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!y,onClose:C,children:j.map(e=>(0,r.jsx)(f.Z,{onClick:C,children:(0,r.jsx)(c.Z,{sx:{textAlign:"center"},children:e})},e))})]})]})})})}}},function(e){e.O(0,[84,571,548,938,961,307,730,47,623,744],function(){return e(e.s=6533)}),_N_E=e.O()}]);